class VideoLoop{constructor(){let t,s,i,e;for(this.videoFrame=document.querySelector("#hero-video-frame"),this.videos=this.videoFrame.querySelectorAll(".hero-video"),this.items=[],this.loopCount=0,this.stopped=!1,t=0;t<this.videos.length;t++)s=this.videos[t],i=!1,0==t&&(i=!0),e=new Video(this,s,i),t>0&&(this.items[t-1].setNext(e),e.setPrevious(this.items[t-1])),this.items.push(e);this.items.length>1&&(this.items[this.items.length-1].setNext(this.items[0]),this.items[0].setPrevious(this.items[this.items.length-1]))}updateCount(){this.loopCount++,this.loopCount>200&&(this.stopped=!0)}}class Video{constructor(t,s,i){this.loop=t,this.el=s,this.isFirst=i,this.previous,this.next,this.canPlay=!1;const e=this;s.oncanplaythrough=function(){e.canPlay=!0,e.isFirst&&e.start()}}setPrevious(t){this.previous=t}setNext(t){this.next=t}start(){const t=this;if(this.canPlay&&!this.loop.stopped){const s=1e3*this.el.duration-200;window.setTimeout(function(){t.el.classList.add("last-active"),t.el.classList.remove("active"),t.previous&&t.previous.el.classList.remove("last-active"),t.next&&t.next.start()},s),this.isFirst&&this.loop.updateCount(),this.el.classList.add("active"),this.el.play()}}}const videoLoop=new VideoLoop;